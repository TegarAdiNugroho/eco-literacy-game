<!DOCTYPE html>
<html>
<head>
<base target="_top">
<meta charset="UTF-8">
<title>Eco Literacy Matching Game</title>

<style>
body {
    font-family: Arial, sans-serif;
    background: linear-gradient(to right, #a8edea, #fed6e3);
    text-align: center;
    margin: 0;
}

h1 { margin-top: 20px; }

.controls { margin: 15px; }

button {
    padding: 8px 15px;
    margin: 5px;
    border-radius: 8px;
    border: none;
    background: #2e7d32;
    color: white;
    cursor: pointer;
}

button:hover { background: #1b5e20; }

.container {
    display: grid;
    grid-template-columns: 1fr 1fr;
    gap: 40px;
    justify-content: center;
    max-width: 900px;
    margin: 0 auto;
}

.column {
    display: flex;
    flex-direction: column;
    align-items: center;
}

.card {
    width: 140px;              /* choose size */
    aspect-ratio: 1 / 1;       /* makes card square */

    background: white;
    padding: 10px;
    margin: 8px;
    border-radius: 12px;
    cursor: pointer;
    box-shadow: 0 4px 8px rgba(0,0,0,0.15);
    transition: 0.3s;

    display: flex;             /* center image inside */
    justify-content: center;
    align-items: center;
}

.card:hover { transform: scale(1.03); }

.card img {
    width: 140px;
    aspect-ratio: 1 / 1;
    object-fit: cover;
    border-radius: 8px;
}

.selected { background: #ffe082; }
.correct { background: #81c784; pointer-events: none; }

.score {
    font-size: 20px;
    margin: 15px;
}
</style>
</head>

<body>

<h1>ğŸŒ Flashcard Matching Game ğŸŒ</h1>
<h2> â­ Oleh Rakha Dwi & Tegar Adi â­</h2>

<div class="controls">
    <button onclick="startLevel('easy')">Easy (5)</button>
    <button onclick="startLevel('medium')">Medium (10)</button>
    <button onclick="startLevel('hard')">Hard (15)</button>
    <button onclick="resetGame()">Reset</button>
</div>

<div class="score">Score: <span id="score">0</span></div>

<div class="container">
    <div class="column" id="images"></div>
    <div class="column" id="descriptions"></div>
</div>

<script>

const fullData = [
{word:"MOUNTAIN", desc:"A natural pyramid rising high into the sky."},
{word:"STAR", desc:"A shining object in the sky that looks small."},
{word:"OCEAN", desc:"A giant body of salt water covering Earth."},
{word:"EARTH", desc:"The planet full of life."},
{word:"TREE", desc:"One of the main producers of oxygen."},
{word:"ECLIPSE", desc:"When the moon blocks sunlight."},
{word:"ISLAND", desc:"Land surrounded by water."},
{word:"SPACE", desc:"Home of planets and stars."},
{word:"MELT", desc:"Ice turning into water."},
{word:"BOIL", desc:"Water heated until bubbling."},
{word:"CLIFF", desc:"A tall and steep rock wall."},
{word:"SNOW", desc:"Ice crystals falling from sky."},
{word:"WATERFALL", desc:"Water flowing from high place."},
{word:"CAVE", desc:"Dark underground place."},
{word:"ROCK", desc:"Hard natural object."},
{word:"LAKE", desc:"Large water surrounded by land."},
{word:"CLOUD", desc:"White object floating in sky."},
{word:"SUN", desc:"Bright object shining every morning."},
{word:"STORM", desc:"Strong wind and rain together."},
{word:"RAIN", desc:"Water falling from clouds."},
{word:"DESERT", desc:"Very hot and dry place."},
{word:"WAVE", desc:"Moving ocean water."},
{word:"POND", desc:"Small body of water."},
{word:"FLOOD", desc:"Too much water covering land."},
{word:"ROOT", desc:"Plant part under soil."},
{word:"STEM", desc:"Main body of plant."},
{word:"LEAF", desc:"Plant part that makes food."},
{word:"BRANCH", desc:"Arm of a tree."},
{word:"RECYCLE", desc:"Using materials again."},
{word:"GLACIER", desc:"Huge moving ice on land."},
{word:"ICEBERG", desc:"Floating ice in ocean."},
{word:"FOG", desc:"Thick mist blocking view."},
{word:"SEED", desc:"Beginning of plant."},
{word:"LANDSLIDE", desc:"Soil falling from high land."},
{word:"LIGHTNING", desc:"Bright flash in storm."},
{word:"CORAL REEF", desc:"Colorful sea life area."},
{word:"POLLUTION", desc:"Dirty air or water."},
{word:"FOREST", desc:"Area with many trees."},
{word:"VALLEY", desc:"Low land between hills."},
{word:"PENINSULA", desc:"Land jutting into sea."},
{word:"SOLAR PANEL", desc:"Tool capturing sun energy."},
{word:"SWAMP", desc:"Wet muddy land."},
{word:"COMPOST", desc:"Natural waste into soil."},
{word:"GREENHOUSE", desc:"Glass building for plants."}
];

let matchedPairs = 0;
let totalPairs = 0;
let score = 0;
let selectedImage = null;
let selectedDesc = null;

/* â­ BANK GLOBAL GAMBAR YANG SUDAH DIGUNAKAN */
let usedWordsGlobal = new Set();

function shuffle(array) {
    return array.sort(() => Math.random() - 0.5);
}

function resetGame(fullReset = false) {

    document.getElementById("images").innerHTML = "";
    document.getElementById("descriptions").innerHTML = "";
    document.getElementById("score").textContent = 0;
    score = 0;

    /* â­ jika reset total, kosongkan bank global */
    if(fullReset){
        usedWordsGlobal.clear();
    }
}

function startLevel(level) {

    resetGame();

    let amount = 5;
    if(level === "medium") amount = 10;
    if(level === "hard") amount = 15;

    /* â­ ambil data yang belum pernah muncul di mode mana pun */
    let available = fullData.filter(item => !usedWordsGlobal.has(item.word));

    /* â­ jika gambar tersisa kurang dari kebutuhan â†’ reset bank global */
    if(available.length < amount){
        usedWordsGlobal.clear();
        available = [...fullData];
    }

    const levelData = shuffle(available).slice(0, amount);

    /* â­ tandai sebagai sudah dipakai global */
    levelData.forEach(item => usedWordsGlobal.add(item.word));

    createGame(levelData);
}

function createGame(data) {
    
    totalPairs = data.length;
    matchedPairs = 0;
    
    const imageContainer = document.getElementById("images");
    const descContainer = document.getElementById("descriptions");

    shuffle([...data]).forEach(item => {

        const card = document.createElement("div");
        card.className = "card";

        const img = document.createElement("img");
        img.src = "images/" + item.word + ".png";

        card.appendChild(img);
        card.onclick = () => selectImage(card, item.word);

        imageContainer.appendChild(card);
    });

    shuffle([...data]).forEach(item => {

        const card = document.createElement("div");
        card.className = "card";
        card.textContent = item.desc;

        card.onclick = () => selectDesc(card, item.word);

        descContainer.appendChild(card);
    });
}

function selectImage(card, word) {
    if (selectedImage) selectedImage.classList.remove("selected");
    selectedImage = card;
    selectedImage.dataset.word = word;
    selectedImage.classList.add("selected");
    checkMatch();
}

function selectDesc(card, word) {
    if (selectedDesc) selectedDesc.classList.remove("selected");
    selectedDesc = card;
    selectedDesc.dataset.word = word;
    selectedDesc.classList.add("selected");
    checkMatch();
}

function checkMatch() {
    if (selectedImage && selectedDesc) {
        if (selectedImage.dataset.word === selectedDesc.dataset.word) {
            selectedImage.classList.add("correct");
            selectedDesc.classList.add("correct");
            score += 10;
matchedPairs++;

document.getElementById("score").textContent = score;

/* cek apakah game selesai */
if(matchedPairs === totalPairs){
    setTimeout(showFinalScore, 400);
}
        }
        selectedImage.classList.remove("selected");
        selectedDesc.classList.remove("selected");
        selectedImage = null;
        selectedDesc = null;
    }
}

function showFinalScore(){

    let message = "ğŸ‰ Hebat! Kamu menyelesaikan level ini!\n\n";
    message += "Skor akhir kamu: " + score + "\n\n";

    if(score >= totalPairs*10){
        message += "ğŸŒŸ Perfect! Semua benar!";
    }else if(score >= totalPairs*7){
        message += "ğŸ‘ Bagus sekali!";
    }else{
        message += "ğŸ’ª Lumayan, coba lagi untuk skor lebih tinggi!";
    }

    if(confirm(message + "\n\nMain lagi?")){
        resetGame(true);
    }
}

</script>

</body>

</html>



















